{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"æ¦‚è§ˆ\",\"depth\":2},{\"url\":\"#only-call-hooks-at-the-top-level\",\"depth\":2,\"text\":\"åªåœ¨é¡¶å±‚è°ƒç”¨ Hook \"},{\"url\":\"#only-call-hooks-from-react-functions\",\"depth\":2,\"text\":\"ä»…åœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook \"}]","content":"[[\"$r\",\"MaxWidth\",\"last\",{\"children\":[[\"$r\",\"Intro\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":\"Hook æ˜¯ä½¿ç”¨ JavaScript å‡½æ•°å®šä¹‰çš„ï¼Œä½†å®ƒä»¬ä»£è¡¨äº†ä¸€ç§ç‰¹æ®Šçš„å¯é‡ç”¨çš„ UI é€»è¾‘ï¼Œå¹¶ä¸”å¯¹å®ƒä»¬å¯ä»¥è¢«è°ƒç”¨çš„ä½ç½®æœ‰é™åˆ¶ã€‚\"}]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"only-call-hooks-at-the-top-level\",\"children\":\"åªåœ¨é¡¶å±‚è°ƒç”¨ Hook \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"åœ¨ React ä¸­ï¼Œä»¥ \",[\"$r\",\"code\",null,{\"children\":\"use\"}],\" å¼€å¤´å‘½åçš„å‡½æ•°è¢«ç§°ä¸º \",[\"$r\",\"strong\",null,{\"children\":[\"$r\",\"a\",null,{\"href\":\"/reference/react\",\"children\":\"Hook\"}]}],\"ã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"strong\",null,{\"children\":[\"ä¸è¦åœ¨å¾ªç¯ã€æ¡ä»¶è¯­å¥ã€åµŒå¥—å‡½æ•°æˆ– \",[\"$r\",\"code\",null,{\"children\":\"try\"}],\"/\",[\"$r\",\"code\",null,{\"children\":\"catch\"}],\"/\",[\"$r\",\"code\",null,{\"children\":\"finally\"}],\" ä»£ç å—ä¸­è°ƒç”¨ Hook\"]}],\"ã€‚ç›¸åï¼Œä½ åº”è¯¥åœ¨ React å‡½æ•°ç»„ä»¶çš„é¡¶å±‚ä½¿ç”¨ Hookï¼Œä¸”åœ¨ä»»ä½•æå‰è¿”å›ä¹‹å‰ã€‚ä½ åªèƒ½åœ¨ React æ¸²æŸ“å‡½æ•°ç»„ä»¶æ—¶è°ƒç”¨ Hookï¼š\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"âœ… åœ¨ \",[\"$r\",\"a\",null,{\"href\":\"/learn/your-first-component\",\"children\":\"å‡½æ•°ç»„ä»¶ä¸»ä½“\"}],\" çš„é¡¶å±‚è°ƒç”¨å®ƒä»¬ã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"âœ… åœ¨ \",[\"$r\",\"a\",null,{\"href\":\"/learn/reusing-logic-with-custom-hooks\",\"children\":\"è‡ªå®šä¹‰ Hook ä¸»ä½“\"}],\" çš„é¡¶å±‚è°ƒç”¨å®ƒä»¬ã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js{2-3,8-9}\",\"children\":\"function Counter() {\\r\\n  // âœ… æ­£ç¡®çš„ï¼šåœ¨å‡½æ•°ç»„ä»¶é¡¶å±‚\\r\\n  const [count, setCount] = useState(0);\\r\\n  // ...\\r\\n}\\r\\n\\r\\nfunction useWindowWidth() {\\r\\n  // âœ… æ­£ç¡®çš„ï¼šåœ¨è‡ªå®šä¹‰ Hooks é¡¶å±‚\\r\\n  const [width, setWidth] = useState(window.innerWidth);\\r\\n  // ...\\r\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ä¸æ”¯æŒåœ¨å…¶ä»–ä»»ä½•æƒ…å†µä¸‹è°ƒç”¨ä»¥ \",[\"$r\",\"code\",null,{\"children\":\"use\"}],\" å¼€å¤´çš„ Hookï¼Œä¾‹å¦‚ï¼š\"]}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":\"ğŸ”´ ä¸è¦åœ¨æ¡ä»¶è¯­å¥æˆ–å¾ªç¯ä¸­è°ƒç”¨ Hookã€‚\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ğŸ”´ ä¸è¦åœ¨æ¡ä»¶æ€§çš„ \",[\"$r\",\"code\",null,{\"children\":\"return\"}],\" è¯­å¥ä¹‹åè°ƒç”¨ Hookã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"ğŸ”´ ä¸è¦åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":\"ğŸ”´ ä¸è¦åœ¨ç±»ç»„ä»¶ä¸­è°ƒç”¨ Hookã€‚\"}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ğŸ”´ ä¸è¦åœ¨ä¼ é€’ç»™ \",[\"$r\",\"code\",null,{\"children\":\"useMemo\"}],\"ã€\",[\"$r\",\"code\",null,{\"children\":\"useReducer\"}],\" æˆ– \",[\"$r\",\"code\",null,{\"children\":\"useEffect\"}],\" çš„å‡½æ•°å†…éƒ¨è°ƒç”¨ Hookã€‚\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"ğŸ”´ ä¸è¦åœ¨ \",[\"$r\",\"code\",null,{\"children\":\"try\"}],\"/\",[\"$r\",\"code\",null,{\"children\":\"catch\"}],\"/\",[\"$r\",\"code\",null,{\"children\":\"finally\"}],\" ä»£ç å—ä¸­è°ƒç”¨ Hookã€‚\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"å¦‚æœä½ è¿åäº†è¿™äº›è§„åˆ™ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ä»¥ä¸‹é”™è¯¯ï¼š\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js{3-4,11-12,20-21}\",\"children\":\"function Bad({ cond }) {\\r\\n  if (cond) {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨æ¡ä»¶è¯­å¥å†…éƒ¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ°å¤–éƒ¨ï¼ï¼‰\\r\\n    const theme = useContext(ThemeContext);\\r\\n  }\\r\\n  // ...\\r\\n}\\r\\n\\r\\nfunction Bad() {\\r\\n  for (let i = 0; i < 10; i++) {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨å¾ªç¯è¯­å¥å†…éƒ¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ°å¤–éƒ¨ï¼ï¼‰\\r\\n    const theme = useContext(ThemeContext);\\r\\n  }\\r\\n  // ...\\r\\n}\\r\\n\\r\\nfunction Bad({ cond }) {\\r\\n  if (cond) {\\r\\n    return;\\r\\n  }\\r\\n  // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨æ¡ä»¶æ€§ return è¯­å¥ä¹‹åï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ° return ä¹‹å‰ï¼ï¼‰\\r\\n  const theme = useContext(ThemeContext);\\r\\n  // ...\\r\\n}\\r\\n\\r\\nfunction Bad() {\\r\\n  function handleClick() {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨äº‹ä»¶å¤„ç†å‡½æ•°å†…éƒ¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ° return ä¹‹å‰ï¼ï¼‰\\r\\n    const theme = useContext(ThemeContext);\\r\\n  }\\r\\n  // ...\\r\\n}\\r\\n\\r\\nfunction Bad() {\\r\\n  const style = useMemo(() => {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨ useMemo å†…éƒ¨è°ƒç”¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ°å¤–éƒ¨ï¼ï¼‰\\r\\n    const theme = useContext(ThemeContext);\\r\\n    return createStyle(theme);\\r\\n  });\\r\\n  // ...\\r\\n}\\r\\n\\r\\nclass Bad extends React.Component {\\r\\n  render() {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨ç±»ç»„ä»¶å†…éƒ¨è°ƒç”¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œæ”¹å†™ä¸ºå‡½æ•°ç»„ä»¶ï¼ï¼‰\\r\\n    useEffect(() => {})\\r\\n    // ...\\r\\n  }\\r\\n}\\r\\n\\r\\nfunction Bad() {\\r\\n  try {\\r\\n    // ğŸ”´ é”™è¯¯çš„ï¼šåœ¨ tryã€catchã€finally ä»£ç å—å†…éƒ¨è°ƒç”¨ï¼ˆè¦ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œå°†å…¶ç§»åˆ°å¤–éƒ¨ï¼ï¼‰\\r\\n    const [x, setX] = useState(0);\\r\\n  } catch {\\r\\n    const [x, setX] = useState(1);\\r\\n  }\\r\\n}\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"ä½ å¯ä»¥ä½¿ç”¨ \",[\"$r\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/eslint-plugin-react-hooks\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"eslint-plugin-react-hooks\"}],\" æ’ä»¶\"]}],\" æ¥æ•è·è¿™äº›é”™è¯¯ã€‚\"]}],\"\\n\",[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"/learn/reusing-logic-with-custom-hooks\",\"children\":\"è‡ªå®šä¹‰ Hook\"}],\" \",[\"$r\",\"strong\",null,{\"children\":\"å¯ä»¥\"}],\" è°ƒç”¨å…¶ä»– Hookï¼ˆè¿™æ­£æ˜¯å®ƒä»¬çš„ä¸»è¦ç›®çš„ï¼‰ã€‚ä¹‹æ‰€ä»¥å¯ä»¥è¿™æ ·åšï¼Œæ˜¯å› ä¸ºè‡ªå®šä¹‰ Hook ä¹Ÿåº”è¯¥åªåœ¨å‡½æ•°ç»„ä»¶æ¸²æŸ“æ—¶è¢«è°ƒç”¨ã€‚\"]}]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"only-call-hooks-from-react-functions\",\"children\":\"ä»…åœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"ä¸è¦åœ¨å¸¸è§„çš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚ç›¸åï¼Œä½ å¯ä»¥ï¼š\"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"âœ… åœ¨ React å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hookã€‚\\r\\nâœ… åœ¨ \",[\"$r\",\"a\",null,{\"href\":\"/learn/reusing-logic-with-custom-hooks#extracting-your-own-custom-hook-from-a-component\",\"children\":\"è‡ªå®šä¹‰ Hook\"}],\" ä¸­è°ƒç”¨ Hookã€‚\"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":\"éµå¾ªè¿™æ¡è§„åˆ™ï¼Œä½ å¯ä»¥ç¡®ä¿ç»„ä»¶ä¸­çš„æ‰€æœ‰çŠ¶æ€é€»è¾‘åœ¨å…¶æºä»£ç ä¸­æ¸…æ™°å¯è§ã€‚\"}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"meta\":\"{2,5}\",\"children\":\"function FriendList() {\\r\\n  const [onlineStatus, setOnlineStatus] = useOnlineStatus(); // âœ…\\r\\n}\\r\\n\\r\\nfunction setOnlineStatus() { // âŒ Not a component or custom Hook!\\r\\n  const [onlineStatus, setOnlineStatus] = useOnlineStatus();\\r\\n}\\n\"}]}]]}]]","meta":{"title":"Hook çš„è§„åˆ™"},"languages":null},"__N_SSG":true}